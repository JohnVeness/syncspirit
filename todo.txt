- идёт много file_clone, но нету скачки файла
- check 4 symlinks test (scaner) ?
- win32 build
  mxe?


- app-image : ./linuxdeploy-x86_64.AppImage --appdir AppDir -e bin/eratosthenes -d my.desktop -i /usr/share/icons/hicolor/48x48/apps/claws-mail.png --output appimage
- image icon:
    https://www.stockio.com/free-icons/?q=sync,
    https://www.freepik.com/free-vector/settings-icons-flat_1530486.htm#query=sync%20icon&position=1&from_view=search

===================

- восстанавливаться при креше (из-за MDBX_SAFE_NOSYNC) : держать заммапленый файлик
   file-uuid | (source) device_id | seq_no
   ----------+--------------------+-------
    ...
   к-во записей N задаётся в конфиге. Когда файл флушится, пишем запись.
   Как только произошло N записей, флушим БД на диск.

- controller: не падать, если пришла ошибка на запрос блока

- https://docs.syncthing.net/users/faq.html#what-things-are-synced
- когда нам прислали update, но нету sequence/устаревшая инфа, нужно апдейтить бд, но не запрашивать файлы
- test: validation happens before opening file?
- send indices deltas (after restart detects changes)
- test: fs_actor, deleted file from index
- test: controller, share folder -> index is sent
- test: file is not available
- test: device file
- start syncing folder when new folder has been added, нужно слать cancel{}
- backpressue on controller by file-actor?
- Canonicalize, TempNameWithPrefix, TempName
- локальные таймстемпы?
- metadata (timestamp, etc.)
- cluster is update by 3rd party: регать итераторы в cluster'е и инвалидировать, если надо.
- https://github.com/syncthing/syncthing/pull/7876
- https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file
- https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words
- https://github.com/wheybags/glibc_version_header

./src/ui-daemon/syncspirit-daemon --log_level trace --config_dir=../  --command add_peer:zzz:KUEQE66-JJ7P6AD-BEHD4ZW-GPBNW6Q-Y4C3K4Y-X44WJWZ-DVPIDXS-UDRJMA7  --command add_folder:label=my_label:id=nagkw-srrjz:path=/tmp/syncspirit --command share:folder=my_label:device=KUEQE66
- https://docs.0install.net/about/faq/

3. use wxWidgets

- config & tui
 - игнорированные девайсы: показать, удалить
 - добавить/удалить/изменить директорию
 - удалить/добавить/изменить девайс
 - config versioning
 - next activity

https://en.wikipedia.org/wiki/ANSI_escape_code#CSI_sequences
https://stackoverflow.com/questions/64035952/how-to-key-press-detection-on-a-linux-terminal-low-level-style-in-python


- local-discovery
    iptables -t nat -A OUTPUT -p udp --dport 21027 -j DNAT --to-destination 127.0.0.1:21026



-relay
    syncthing-relay(7)
    relay://78.46.89.67:22067/?id=WAVJNLF-AVVZAPT-V6JEQA5-B3EPEW6-6SAR3C4-NFZBOW2-CWR3QM4-QJT2OA6&pingInterval=1m0s&networkTimeout=2m0s&sessionLimitBps=0&globalLimitBps=0&statusAddr=:22070&providedBy=frogeye.fr

- discovery_support, upnp_support-> proto ?
- вообще не отвечает upnp


- restart all on config change

openssl x509 -inform PEM -outform DER -in ~/.config/syncthing/cert.pem -out /tmp/cert.der

- статически собирать бинарь под линь ( https://www.youtube.com/watch?v=Z7WuUhPJ-cU&list=PLZN9ZGiWZoZruMY-MlkAd-nHzdP9TfLRC&index=25 )
- case: когда коннектимся к пиру, но он ранее приконнектился к нам
- dialer-actor
- protobuf light?

- DB
https://github.com/erthink/libmdbx
https://iowow.io/
https://symas.com/lmdb/
https://en.wikipedia.org/wiki/LevelDB

https://wiki.lyrasis.org/display/FEDORA471/How+to+inspect+LevelDB
https://softwarerecs.stackexchange.com/questions/14409/leveldb-database-client

[RF7ZH] 2020/12/10 10:25:13.662765 logfs.go:61: DEBUG: casefs.go:152 basic /home/b/Desktop/finances Lstat invoices/samples/Rechnung_Nr._B2020128.pdf {0xc000a14f70} <nil>


https://forum.syncthing.net/t/a-few-questions-about-quic-hole-punching-and-stun/16490
